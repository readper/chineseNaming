<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $("tr").click(function(){
                var id = $(this).attr("name-id")
                var tr = this
                $.ajax({
                    method: "PATCH",
                    url: "/unwant_names/" + id,
                }).done(function( msg ) {
                    if(msg === "removed"){
                        $(tr).removeClass("removed")
                    } else if(msg === "created") {
                        $(tr).addClass("removed")
                    }
                });
            });
            $(".top_btn").click(function(){
                if($("tr:first").hasClass("h")){
                    $("tr").removeClass("h");
                } else {
                    $("tr").addClass("h");
                }
            })
        });
    </script>
    <style type="text/css">
        .removed { background-color: gray }
        .h.removed { display: none }
        .top_btn {position: sticky; top:10px;left:10px;}
    </style>
</head>
<body>
    <button class="top_btn">隱藏/取消隱藏</button>
    <table border="1 solid">
        {{ range $key, $value := .Names }}
            <tr name-id="{{ $key }}">
                <td>{{ range $value }}{{ .Word }}{{ end }}</td>
                <td>{{ range $value }}{{ .Bopomofo }}<br>{{ end }}</td>
            </tr>
        {{ end }}
    </table>
</body>
</html>